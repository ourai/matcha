$default: (
    page-width: 100%,
    layout-header-height: 50px,
    layout-footer-height: 60px,
    layout-main-width: percent(640px, 960px),
    layout-sub-width:  percent(300px, 960px)
  );



/*
  - One column -

<body data-layout="sandwich">
  <header class="layout-header">Header of page</header>
  <main class="layout-container">
    <div class="layout-content layout-inner">Content of page</div>
  </main>
  <footer class="layout-footer">Footer of page</footer>
</body>

  - Two columns -

<body data-layout="sandwich">
  <header class="layout-header">Header of page</header>
  <main class="layout-container">
    <div class="layout-content layout-inner">
      <div class="layout-main">Main content</div>
      <div class="layout-sub">Sub content</div>
    </div>
  </main>
  <footer class="layout-footer">Footer of page</footer>
</body>
*/

@mixin layout-sandwich( $params: $default ) {
  body[data-layout="sandwich"] {
    @at-root {
      html,
      body {
        height: 100%;
      }
    }

    // Header of page
    .layout-header {
      position: relative;
      z-index: 10;
      height: map-get($params, "layout-header-height");
      margin-bottom: -(map-get($params, "layout-header-height") + 2px);
      background-color: #FFF;
      border-bottom: 2px solid #C5CFD2;

      @media all and (min-width: 0) {
        border-bottom: none;
        box-shadow: 0 2px 0.5em -0.2em #666;
      }
    }

    // Footer of page
    .layout-footer {
      height: map-get($params, "layout-footer-height");
      margin-top: -(map-get($params, "layout-footer-height") + 1px);
      border-top: 1px solid #B8C4C8;
      background-color: #B8C4C8;
      color: #FFF;
    }

    .layout-container {
      min-height: 100%;

      &:after {
        content: "\20";
        display: block;
        height: 81px;
        position: relative;
        z-index: -999999999;
        background: transparent none !important;
        visibility: hidden;
      }
    }

    // The same as clearfix
    .layout-content {
      display: inline-block;

      &:after {
        content: "\20";
        display: block;
        clear: both;
        visibility: hidden;
        line-height: 0;
        height: 0;
      }
    }

    // Main content
    .layout-main {
      width: map-get($params, "layout-main-width");
      float: left;
    }
    
    // Sub content
    .layout-sub {
      width: map-get($params, "layout-sub-width");
      float: right;
    }

    // To limit the width of content
    // and make content center
    .layout-inner {
      width: map-get($params, "page-width");
      margin: 0 auto;
    }
  }

  [class~="layout-content"],
  html[xmlns] .layout-content {
    display: block;
  }

  @include hack-ie6 {
    .layout-content {
      height: 1%;
    }
  }
}
