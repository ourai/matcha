/*!
 * Matcha UI Library v0.5.1
 * http://dev.ourai.ws/projects/matcha/
 *
 * Copyright Ourai Lin, http://ourai.ws/
 *
 * Date: 2015-07-17
 */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("Requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x={}.hasOwnProperty,y=function(a,b){function c(){this.constructor=a}for(var d in b)x.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};g={name:"Matcha",version:"0.5.1"},w={},c=jQuery,v={modules:{},components:{},hook:{tabs:{component:"tabs",trigger:"trigger--tab",content:"tabs-content"},score:{trigger:"trigger--score"},dropdown:{trigger:"trigger--dropdown"},uploader:{trigger:"trigger--uploader",label:"label--uploader"}}},i=function(){var b,c,d;return d=a.navigator.userAgent.toLowerCase(),c=function(){var a,b;return i={},a=/(chrome)[ \/]([\w.]+)/.exec(d)||/(webkit)[ \/]([\w.]+)/.exec(d)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(d)||/(msie) ([\w.]+)/.exec(d)||d.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(d)||[],b={browser:a[1]||"",version:a[2]||"0"},b.browser&&(i[b.browser]=!0,i.version=b.version),i.chrome?i.webkit=!0:i.webkit&&(i.safari=!0),i},(b=function(){var a;return a=/trident.*? rv:([\w.]+)/.exec(d),a?i={msie:!0,version:a[1]}:(i=c(),i.mozilla&&(i.firefox=!0,a=/firefox[ \/]([\w.]+)/.exec(d),a&&(i.version=a[1]))),i.language=navigator.language||navigator.browserLanguage,i})()}(),o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},p=function(a,b){return(b===!0?"":".")+"js-"+n("hook."+a)},k=function(a){return(""+a+"."+g.name).toLowerCase()},j=function(a){return""+g.name+"."+a},n=function(a){var b,d;return b=a.split("."),d=v,c.each(b,function(a,b){var c;return c=o(d,b),d=d[b],c}),d},t=function(a){return i.msie&&1*i.version<a},u=function(a){var b;return b=null!=a.dataset?a.dataset:null!=a.outerHTML?m(a.outerHTML):null!=a.attributes&&c.isNumeric(a.attributes.length)?l(a.attributes):{}},m=function(a){var b,d;return b={},null!=(d=a.match(/<[a-z]+[^>]*>/i))&&c.each(d[0].match(/(data(-[a-z]+)+=[^\s>]*)/gi)||[],function(a){return a=a.match(/data-(.*)="([^\s"]*)"/i),b[c.camelCase(a[1])]=a[2],!0}),b},l=function(a){var b;return b={},c.each(a,function(a){var d;return 2===a.nodeType&&null!=(d=a.nodeName.match(/^data-(.*)$/i))&&(b[c.camelCase(d(1))]=a.nodeValue),!0}),b},s=function(a){return a===!0||"true"===a},r=function(a){return a===!1||"false"===a},q=function(a,b){return function(c,d){var e;return e=new a(c,d),"function"==typeof b&&b(),e}},v.modules.Component=function(){var a,b;return a=v.components,b=function(){function b(b,c){if(o(a,b))throw"The component '"+b+"' exists.";if(o(w,b))throw"Wrong component's name!!!";w[b]=a[b]=c}return b}()}(),w.addComponent=function(a,b){return new v.modules.Component(a,b)},c(document).ready(function(){w.score(c(".Score--selectable[data-highest]")),w.dropdown(c("select.DropList"))}),d=function(){function a(a,b){var d;null==a&&(a=c()),null==b&&(b={}),c.isPlainObject(a)?(b=a,a=null!=(d=b.$el)?d:c()):b.$el=a,a.each(function(a){return function(d,e){var f;a.initialize(c(e),c.extend(!0,{},null!=(f=a.defaults)?f:{},b,a.dataset(e)),b)}}(this))}var b,d,e;return d=function(a){return"true"===a?a=!0:"false"===a?a=!1:c.isNumeric(a)&&(a=Number(a)),a},e=function(a){var b,d;return b={},c.each((null!=(d=a.match(/<[a-z]+[^>]*>/i))?d[0].match(/(data(-[a-z]+)+=[^\s>]*)/gi):void 0)||[],function(a){return a=a.match(/data-(.*)="([^\s"]*)"/i),b[c.camelCase(a[1])]=a[2],!0}),b},b=function(a){var b;return b={},c.each(a,function(a){var d;return 2===a.nodeType&&null!=(d=a.nodeName.match(/^data-(.*)$/i))&&(b[c.camelCase(d(1))]=a.nodeValue),!0}),b},a.prototype.defaults=null,a.prototype.initialize=function(a,b,c){},a.prototype.dataset=function(a){var d;return null==a&&(a=this.el),d=null!=a.dataset?a.dataset:null!=a.outerHTML?e(a.outerHTML):null!=a.attributes&&c.isNumeric(a.attributes.length)?b(a.attributes):{}},a}(),f=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return y(b,a),b.prototype.initialize=function(a,b){var d,e,f,g;return g=c(":selected",a),e=c("option",a).index(g),a.attr("tabindex",-1).removeClass("DropList").addClass("DropList--dummy"),d=c("<div>",{"class":"DropList"}),d.append('<div class="DropList-selected"><span class="DropList-label">'+g.text()+'</span></div>\n<div class="DropList-dropdown"><ul class="DropList-list"></ul></div>'),f=c(".DropList-list",d),c("option",a).each(function(){return f.append('<li class="'+p("dropdown.trigger",!0)+'">'+c(this).text()+"</li>")}),c("li:eq("+e+")",f).addClass("is-selected"),a.after(d),d.data(j("DropListDummy"),a)},b}(d),w.addComponent("dropdown",q(f)),c(document).on("click",p("dropdown.trigger"),function(){var a,b,d,e,f,g;return g=c(this),b=g.closest(".DropList"),e=g.closest(".DropList-list"),d=c("li",e).index(g),a="is-selected",c("."+a,e).removeClass(a),g.addClass(a),c(".DropList-label",b).text(g.text()),f=b.data(j("DropListDummy")),c(":selected",f).attr("selected",!1),c("option:eq("+d+")",f).attr("selected",!0),f.trigger("change")}),h=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}var d;return y(b,a),d=function(a){var b,c;return c=a.score,b=""+a.name+"-"+c,'<input id="'+b+'" class="Score-storage Score-storage-'+c+'" type="radio" name="'+a.name+'" value="'+c+'">\n<a class="Score-level Score-level-'+c+'" href="javascript:void(0);"><label for="'+b+'">'+c+"</label></a>"},b.prototype.defaults={highest:5},b.prototype.initialize=function(a,b){var e,f,g;for(f=Number(b.highest),g=1,e={},a.width(16*f),e.name=b.name||"Score-"+(c(".Score--selectable").index(a)+1),isNaN(f)?f=0:f++;f>g;)e.score=g++,a.append(d(e))},b}(d),w.addComponent("score",q(h,function(){return t(9)?c(".Score--selectable .Score-level").addClass(p("score.trigger",!0)):void 0})),c(document).on("click",p("score.trigger"),function(){var a,b;return b=c(this),a="is-selected",b.siblings("."+a).removeClass(a),b.addClass(a),b.siblings("[checked]").attr("checked",!1),b.prev(":radio").attr("checked",!0),b.triggerHandler(k("select")),!1}),function(a){return c(function(){return c(".Tabs[data-setdefault!='false'] > .Tabs-triggers").each(function(){var a,b;return a=c(this),b=".Tabs-trigger",0===c(""+b+".is-selected",a).size()?c(""+b+":first",a).trigger("click"):void 0}),c(".Tabs-trigger.is-selected").trigger("click")})}(w),c(document).on("click",p("tabs.trigger"),function(){var a,b,d;return b=c(this),a=b.closest(".Tabs"),d=b.data("flag"),c(".Tabs-trigger.is-selected, .Tabs-content.is-selected",a).removeClass("is-selected"),c(".Tabs-content[data-flag='"+d+"']",a).add(b).addClass("is-selected"),b.triggerHandler(k("change"),[d]),!1}),c(document).on("change",p("uploader.trigger"),function(){var a,b,d,e,f;return b=c(this),d=c(p("uploader.label"),b.closest(".Uploader")),a=this.files,e="No files selected",f=b.val(),null!=a?d.text(a.length?a[0].name:e):d.text(""===f?e:f),!1}),e=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return y(b,a),b.prototype.defaults={source:[],data:"{%ROOT%}",template:function(a){},paginator:{tiny:!1,container:null,total:0,defaultPage:0},update:function(){}},b}(d),w.addComponent("dataList",q(e)),function(a){var b,e,f,g,h,i,k,l,m;return b=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return y(b,a),b.prototype.defaults={$el:null,vertical:!1,dir:1,effect:"fade",auto:!1,interval:5,pageable:!1,locale:{prev:"Prev",next:"Next"}},b.prototype.initialize=function(a,b){var d,f,g;return f=b.effect,d="is-active",a.wrap('<div class="Slides-wrapper" />').addClass("Slides").data(j("SlidesEffect"),f).children("li").addClass("Slides-unit").eq(0).addClass(d),g=a.parent(),s(b.pageable)&&c('<div class="Slides-pagination"><ol>'+i(a.children("li"))+"</ol></div>").find("li:first").addClass(d).closest(".Slides-pagination").appendTo(g),s(b.auto)?e(a,1e3*(c.isNumeric(b.interval)?b.interval:defaults.interval),f):g.append('<div class="Slides-triggers">'+m("prev",b.locale.prev)+m("next",b.locale.next)+"</div>"),g},b}(d),i=function(a){var b;return b=[],a.each(function(a){var d;return d=a+1,c(this).data(j("SlidesPageNum"),d),b.push('<li><a href="#" data-page="'+d+'">'+d+"</a></li>")}),b.join("")},e=function(a,b,c){setTimeout(function(){return f(a.children("li.is-active"),h(a,1),1,c,function(){return e(a,b,c)})},b)},m=function(a,b){return null==b&&(b=""),'<button type="button" class="Slides-trigger" data-direction="'+a+'">'+b+"</button>"},f=function(a,b,d,e,f){var g;return g="is-next",b.addClass(g),l(a,d,e,function(){var d,e;return d="is-active",b.removeClass(g).addClass(d),a.removeClass(d).show(),e=a.closest(".Slides-wrapper").children(".Slides-pagination"),e.size()&&c("[data-page='"+b.data(j("SlidesPageNum"))+"']",e).parent().addClass(d).siblings("."+d).removeClass(d),"function"==typeof f?f():void 0}),b},h=function(a,b,c){var d,e;return null==c&&(c=-1),-1===c?(d=a.children("li.is-active"),e=0===b?d.is(":first-child")?a.children("li:last-child"):d.prev():d.is(":last-child")?a.children("li:first-child"):d.next()):e=a.children("li:eq("+c+")"),e},l=function(a,b,c,d){"fade"===c?a.fadeOut(d):"slide"===c?k(a,b,d):d()},k=function(a,b,c){var d,e,f;return d=0===b?"right":"left",f=a.css(d),e={},e[""+d]="-"+a.outerWidth(!0),a.animate(e,function(){return a.css(d,f),c()})},g=function(a,b,d){var e,g,i;return i=c(a).closest(".Slides-wrapper").children(".Slides"),e=i.children("li.is-active"),g=b.call(e),f(e,h(i,g,d),g,i.data(j("SlidesEffect")))},a.addComponent("slides",q(b)),c(document).on("click",".Slides-trigger",function(){return g(this,function(a){return function(){return"prev"===c(a).attr("data-direction")?0:1}}(this)),!1}),c(document).on("click",".Slides-pagination a",function(){var a,b;return a=c(this).parent(),a.is(".is-active")||(b=Number(c("a",a).attr("data-page")),g(this,function(){return b>Number(c("a",a.siblings(".is-active")).attr("data-page"))?1:0},b-1)),!1})}(w),a[g.name]=w});