/*!
 * Matcha UI Library v0.5.1
 * http://dev.ourai.ws/projects/matcha/
 *
 * Copyright Ourai Lin, http://ourai.ws/
 *
 * Date: 2015-07-20
 */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("Requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){(function(){"use strict";var b,c,d,e,f,g,h,i,j,k,l;d={name:"Miso",version:"0.4.1"},l={}.toString,j={validator:function(){return!0}},k={types:{}},i=function(){var a,b,c,d,e;for(b="Boolean Number String Function Array Date RegExp Object".split(" "),c=function(a){var b,c;return k.types["[object "+a+"]"]=c=a.toLowerCase(),b="Number"===a?function(a){return isNaN(a)?!1:this.type(a)===c}:function(a){return this.type(a)===c},k.methods["is"+a]=b},d=0,e=b.length;e>d;d++)a=b[d],c(a);return k.types},h=function(a,b){return null==a?!1:Object.prototype.hasOwnProperty.call(a,b)},g=function(a,b,c,d){var e;null==d&&(d=!1);try{Object.defineProperty(a,b,{__proto__:null,writable:d,value:c})}catch(f){e=f,a[b]=c}return!0},f=function(a,b,c){var d;return d=k.methods,d.isArray(b)||d.isPlainObject(b)&&!d.isArray(b.handlers)?d.each(b,function(a){return f(null!=a?a.handlers:void 0,a,c)}):d.isPlainObject(b)&&d.isArray(b.handlers)&&d.each(a,function(a){return e(a,b,c)}),c},e=function(a,b,c){var d,e,f,g,i,l,m,n,o;if(g=a.name,f=k.methods,a.expose!==!1&&!f.isFunction(c[g])){for(d=a.handler,m=h(a,"value")?a.value:b.value,l=[a.validator,b.validator,j.validator,function(){return!0}],n=0,o=l.length;o>n&&(i=l[n],!f.isFunction(i));n++);e=function(){return f.isFunction(d)&&i.apply(c,arguments)===!0?d.apply(c,arguments):m},c[g]=e}return c},k.methods={extend:function(a,b){return this(a,null!=b?b:this)},mixin:function(){var a,b,c,d,e,f,g,h,i,j,k;for(a=arguments,g=a.length,k=a[0]||{},f=1,e=!1,"boolean"===this.type(k)&&(e=k,k=a[1]||{},f=2),"object"==typeof k||this.isFunction(k)||(k={}),1===g&&(k=this,f--);g>f;){if(i=a[f],null!=i)for(h in i)c=i[h],j=k[h],c!==k&&(e&&c&&(this.isPlainObject(c)||(d=this.isArray(c)))?(d?(d=!1,b=j&&this.isArray(j)?j:[]):b=j&&this.isPlainObject(j)?j:{},k[h]=this.mixin(e,b,c)):void 0!==c&&(k[h]=c));f++}return k},each:function(a,b){var c,d,e,f;if(this.isArray(a)||this.isArrayLike(a)||this.isString(a))for(d=0;d<a.length&&(c=this.isString(a)?a.charAt(d):a[d],b.apply(c,[c,d++,a])!==!1););else if(this.isObject(a)||this.isFunction(a))for(e in a)if(f=a[e],b.apply(f,[f,e,a])===!1)break;return a},type:function(a){var b;return b=0===arguments.length?null:null==a?String(a):k.types[l.call(a)]||"object"},slice:function(a,b,c){var d,e;return null==a?e=[]:(c=Number(c),d=[Number(b)||0],arguments.length>2&&!isNaN(c)&&d.push(c),e=[].slice.apply(a,d)),e},hasProp:function(a,b){return h.apply(this,[arguments.length<2?this:b,a])},namespace:function(b){var c,d;return c=arguments,d={},this.isPlainObject(b)||(b=c[c.length-1]===!0?a:this),this.each(c,function(a){return function(c){var e;return a.isString(c)&&/^[0-9A-Z_.]+[^_.]?$/i.test(c)&&(e=b,a.each(c.split("."),function(b,c,d){return null==e?!1:(a.hasProp(b,e)||(e[b]=c===d.length-1?null:{}),e=e[b],!0)}),d=e),!0}}(this)),d},isWindow:function(a){return a&&this.isObject(a)&&"setInterval"in a},isElement:function(a){return a&&this.isObject(a)&&1===a.nodeType},isNumeric:function(a){return!this.isArray(a)&&!isNaN(parseFloat(a))&&isFinite(a)},isInteger:function(a){return this.isNumeric(a)&&/^-?[1-9]\d*$/.test(a)},isPlainObject:function(a){var b,c;if(!a||!this.isObject(a)||a.nodeType||this.isWindow(a))return!1;try{if(a.constructor&&!this.hasProp("constructor",a)&&!this.hasProp("isPrototypeOf",a.constructor.prototype))return!1}catch(d){return b=d,!1}for(c in a);return void 0===c||this.hasProp(c,a)},isEmpty:function(a){var b,c;if(c=!1,null==a||""===a)c=!0;else if((this.isArray(a)||this.isArrayLike(a))&&0===a.length)c=!0;else if(this.isObject(a)){c=!0;for(b in a){c=!1;break}}return c},isArrayLike:function(a){var b,c;return c=!1,this.isObject(a)&&!this.isWindow(a)&&(b=a.length,(1===a.nodeType&&b||!this.isArray(a)&&!this.isFunction(a)&&(0===b||this.isNumber(b)&&b>0&&b-1 in a))&&(c=!0)),c},mask:function(b){var c,d,e;if(this.isString(b))if(this.hasProp(b,a))a.console&&console.error("'"+b+"' has existed as a property of Window object.");else{d=this.__meta__.name,a[b]=a[d];try{e=delete a[d]}catch(f){c=f,a[d]=void 0,e=!0}this.__meta__.name=b}else e=!1;return e},alias:function(b){return this.isString(b)&&void 0===a[b]&&(a[b]=this),a[String(b)]}},b=function(){function a(){this.platform=c(),this.browser=b()}var b,c,d,e,f,g,h,i;return e=navigator,i=e.userAgent.toLowerCase(),h={windows:{5.1:"XP",5.2:"XP x64 Edition","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1"}},f=function(){var a;return a=/^[\w.\/]+ \(([^;]+?)[;)]/.exec(i)[1].split(" ").shift(),"compatible"===a?"windows":a},g=function(){var a;return null!=(a=(/windows nt ([\w.]+)/.exec(i)||/os ([\w]+) like mac/.exec(i)||/mac os(?: [a-z]*)? ([\w.]+)/.exec(i)||[])[1])?a.replace(/_/g,"."):void 0},c=function(){var a;return a={touchable:!1,version:g()},a[f()]=!0,a.windows?(a.version=h.windows[a.version],a.touchable=/trident[ \/][\w.]+; touch/.test(i)):(a.ipod||a.iphone||a.ipad)&&(a.touchable=a.ios=!0),a},d=function(){var a,b,c;return a={},b=/(chrome)[ \/]([\w.]+)/.exec(i)||/(webkit)[ \/]([\w.]+)/.exec(i)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(i)||/(msie) ([\w.]+)/.exec(i)||i.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(i)||[],c={browser:b[1]||"",version:b[2]||"0"},c.browser&&(a[c.browser]=!0,a.version=c.version),a.chrome?a.webkit=!0:a.webkit&&(a.safari=!0),a},b=function(){var a,b;return b=/trident.*? rv:([\w.]+)/.exec(i),b?a={msie:!0,version:b[1]}:(a=d(),a.mozilla&&(a.firefox=!0,b=/firefox[ \/]([\w.]+)/.exec(i),b&&(a.version=b[1]))),a.language=e.language||e.browserLanguage,a},a}(),i(),c=function(a,b){return f(null!=a?a.handlers:void 0,a,null!=b?b:{})},k.methods.each(k.methods,function(a,b){c[b]=a}),c.mixin(new b),g(c,"__meta__",d,!0),a[d.name]=c}).call(this),function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o={}.hasOwnProperty,p=function(a,b){function c(){this.constructor=a}for(var d in b)o.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=Miso,f={name:"Matcha",version:"0.5.1"},a=jQuery,n={components:{},hook:{tabs:{component:"tabs",trigger:"trigger--tab",content:"tabs-content"},score:{trigger:"trigger--score"},dropdown:{trigger:"trigger--dropdown"},uploader:{trigger:"trigger--uploader",label:"label--uploader"}}},l=function(a,b){return(b===!0?"":".")+"js-"+e.namespace(n,"hook."+a)},k=function(a){return(""+a+"."+f.name).toLowerCase()},i=function(a){return""+f.name+"."+a},m=function(a){return a===!0||"true"===a},h=function(a,b){return function(c,d){var e;return e=new a(c,d),"function"==typeof b&&b(),e}},b=function(){function b(b,c){var d;null==b&&(b=a()),null==c&&(c={}),a.isPlainObject(b)?(c=b,b=null!=(d=c.$el)?d:a()):c.$el=b,b.each(function(b){return function(d,e){var f;b.initialize(a(e),a.extend(!0,{},null!=(f=b.defaults)?f:{},c,b.dataset(e)),c)}}(this))}var c,d;return d=function(b){var c,d;return c={},a.each((null!=(d=b.match(/<[a-z]+[^>]*>/i))?d[0].match(/(data(-[a-z]+)+=[^\s>]*)/gi):void 0)||[],function(b){return b=b.match(/data-(.*)="([^\s"]*)"/i),c[a.camelCase(b[1])]=b[2],!0}),c},c=function(b){var c;return c={},a.each(b,function(b){var d;return 2===b.nodeType&&null!=(d=b.nodeName.match(/^data-(.*)$/i))&&(c[a.camelCase(d(1))]=b.nodeValue),!0}),c},b.prototype.defaults=null,b.prototype.wrapper=null,b.prototype.initialize=function(a,b,c){},b.prototype.dataset=function(b){var e;return null==b&&(b=this.el),e=null!=b.dataset?b.dataset:null!=b.outerHTML?d(b.outerHTML):null!=b.attributes&&a.isNumeric(b.attributes.length)?c(b.attributes):{}},b}(),e.extend({handlers:[{name:"addComponent",handler:function(a,b){if(this.hasProp(n.components,a))throw"The component '"+a+"' exists.";if(this.hasProp(a))throw"Wrong component's name!!!";return e[a]=n.components[a]=b,b},validator:function(a,b){return this.isString(a)&&this.isFunction(b)},value:!1}]}),d=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return p(c,b),c.prototype.initialize=function(b,c){var d,e,f,g;return g=a(":selected",b),e=a("option",b).index(g),b.attr("tabindex",-1).removeClass("DropList").addClass("DropList--dummy"),d=a("<div>",{"class":"DropList"}),d.append('<div class="DropList-selected"><span class="DropList-label">'+g.text()+'</span></div>\n<div class="DropList-dropdown"><ul class="DropList-list"></ul></div>'),f=a(".DropList-list",d),a("option",b).each(function(){return f.append('<li class="'+l("dropdown.trigger",!0)+'">'+a(this).text()+"</li>")}),a("li:eq("+e+")",f).addClass("is-selected"),b.after(d),d.data(i("DropListDummy"),b)},c}(b),e.addComponent("dropdown",h(d)),a(document).on("click",l("dropdown.trigger"),function(){var b,c,d,e,f,g;return g=a(this),c=g.closest(".DropList"),e=g.closest(".DropList-list"),d=a("li",e).index(g),b="is-selected",a("."+b,e).removeClass(b),g.addClass(b),a(".DropList-label",c).text(g.text()),f=c.data(i("DropListDummy")),a(":selected",f).attr("selected",!1),a("option:eq("+d+")",f).attr("selected",!0),f.trigger("change")}),g=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}var d;return p(c,b),d=function(a){var b,c;return c=a.score,b=""+a.name+"-"+c,'<input id="'+b+'" class="Score-storage Score-storage-'+c+'" type="radio" name="'+a.name+'" value="'+c+'">\n<a class="Score-level Score-level-'+c+'" href="javascript:void(0);"><label for="'+b+'">'+c+"</label></a>"},c.prototype.defaults={highest:5},c.prototype.initialize=function(b,c){var e,f,g;for(f=Number(c.highest),g=1,e={},b.width(16*f),e.name=c.name||"Score-"+(a(".Score--selectable").index(b)+1),isNaN(f)?f=0:f++;f>g;)e.score=g++,b.append(d(e))},c}(b),e.addComponent("score",h(g,function(){return e.browser.msie&&1*e.browser.version<9?a(".Score--selectable .Score-level").addClass(l("score.trigger",!0)):void 0})),a(document).on("click",l("score.trigger"),function(){var b,c;return c=a(this),b="is-selected",c.siblings("."+b).removeClass(b),c.addClass(b),c.siblings("[checked]").attr("checked",!1),c.prev(":radio").attr("checked",!0),c.triggerHandler(k("select")),!1}),function(){return a(function(){return a(".Tabs[data-setdefault!='false'] > .Tabs-triggers").each(function(){var b,c;return b=a(this),c=".Tabs-trigger",0===a(""+c+".is-selected",b).size()?a(""+c+":first",b).trigger("click"):void 0}),a(".Tabs-trigger.is-selected").trigger("click")})}(),a(document).on("click",l("tabs.trigger"),function(){var b,c,d;return c=a(this),b=c.closest(".Tabs"),d=c.data("flag"),a(".Tabs-trigger.is-selected, .Tabs-content.is-selected",b).removeClass("is-selected"),a(".Tabs-content[data-flag='"+d+"']",b).add(c).addClass("is-selected"),c.triggerHandler(k("change"),[d]),!1}),a(document).on("change",l("uploader.trigger"),function(){var b,c,d,e,f;return c=a(this),d=a(l("uploader.label"),c.closest(".Uploader")),b=this.files,e="No files selected",f=c.val(),null!=b?d.text(b.length?b[0].name:e):d.text(""===f?e:f),!1}),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return p(b,a),b.prototype.defaults={source:[],data:"{%ROOT%}",template:function(a){},paginator:{tiny:!1,container:null,total:0,defaultPage:0},update:function(){}},b}(b),e.addComponent("dataList",h(c)),function(){var c,d,f,g,j,k,l,n,o;return c=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return p(c,b),c.prototype.defaults={$el:null,vertical:!1,dir:1,effect:"fade",auto:!1,interval:5,pageable:!1,locale:{prev:"Prev",next:"Next"}},c.prototype.initialize=function(b,c){var e,f,g;return f=c.effect,e="is-active",b.wrap('<div class="Slides-wrapper" />').addClass("Slides").data(i("SlidesEffect"),f).children("li").addClass("Slides-unit").eq(0).addClass(e),g=b.parent(),m(c.pageable)&&a('<div class="Slides-pagination"><ol>'+k(b.children("li"))+"</ol></div>").find("li:first").addClass(e).closest(".Slides-pagination").appendTo(g),m(c.auto)?d(b,1e3*(a.isNumeric(c.interval)?c.interval:defaults.interval),f):g.append('<div class="Slides-triggers">'+o("prev",c.locale.prev)+o("next",c.locale.next)+"</div>"),g},c}(b),k=function(b){var c;return c=[],b.each(function(b){var d;return d=b+1,a(this).data(i("SlidesPageNum"),d),c.push('<li><a href="#" data-page="'+d+'">'+d+"</a></li>")}),c.join("")},d=function(a,b,c){setTimeout(function(){return f(a.children("li.is-active"),j(a,1),1,c,function(){return d(a,b,c)})},b)},o=function(a,b){return null==b&&(b=""),'<button type="button" class="Slides-trigger" data-direction="'+a+'">'+b+"</button>"},f=function(b,c,d,e,f){var g;return g="is-next",c.addClass(g),n(b,d,e,function(){var d,e;return d="is-active",c.removeClass(g).addClass(d),b.removeClass(d).show(),e=b.closest(".Slides-wrapper").children(".Slides-pagination"),e.size()&&a("[data-page='"+c.data(i("SlidesPageNum"))+"']",e).parent().addClass(d).siblings("."+d).removeClass(d),"function"==typeof f?f():void 0}),c},j=function(a,b,c){var d,e;return null==c&&(c=-1),-1===c?(d=a.children("li.is-active"),e=0===b?d.is(":first-child")?a.children("li:last-child"):d.prev():d.is(":last-child")?a.children("li:first-child"):d.next()):e=a.children("li:eq("+c+")"),e},n=function(a,b,c,d){"fade"===c?a.fadeOut(d):"slide"===c?l(a,b,d):d()},l=function(a,b,c){var d,e,f;return d=0===b?"right":"left",f=a.css(d),e={},e[""+d]="-"+a.outerWidth(!0),a.animate(e,function(){return a.css(d,f),c()})},g=function(b,c,d){var e,g,h;return h=a(b).closest(".Slides-wrapper").children(".Slides"),e=h.children("li.is-active"),g=c.call(e),f(e,j(h,g,d),g,h.data(i("SlidesEffect")))},e.addComponent("slides",h(c)),a(document).on("click",".Slides-trigger",function(){return g(this,function(b){return function(){return"prev"===a(b).attr("data-direction")?0:1}}(this)),!1}),a(document).on("click",".Slides-pagination a",function(){var b,c;return b=a(this).parent(),b.is(".is-active")||(c=Number(a("a",b).attr("data-page")),g(this,function(){return c>Number(a("a",b.siblings(".is-active")).attr("data-page"))?1:0},c-1)),!1})}(),e.mask(f.name),j=function(a,b){var c,d;if(d={},d[a]=b,null!=e[a])e.mixin(d);else try{Object.defineProperty(e,a,{__proto__:null,writable:!0,value:b})}catch(f){c=f,e.mixin(d)}return b},j("__class__",{Component:b}),j("__meta__",f)}.call(this)});